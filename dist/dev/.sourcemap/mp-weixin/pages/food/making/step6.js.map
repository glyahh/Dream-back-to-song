{"version":3,"file":"step6.js","sources":["pages/food/making/step6.vue","../uniPage:/cGFnZXMvZm9vZC9tYWtpbmcvc3RlcDYudnVl"],"sourcesContent":["<template>\r\n  <view class=\"making-page\">\r\n    <!-- 顶部导航栏 -->\r\n    <view class=\"nav-bar\">\r\n      <view class=\"back-btn\" @click=\"goBack\">\r\n        <text class=\"back-icon\">‹</text>\r\n      </view>\r\n      <text class=\"nav-title\">制作步骤</text>\r\n      <view class=\"right-actions\"></view>\r\n    </view>\r\n\r\n    <!-- 主内容区 -->\r\n    <view class=\"main-content\">\r\n      <!-- 步骤指示器 -->\r\n      <view class=\"step-indicator\">\r\n        <text class=\"step-text\">第六步</text>\r\n      </view>\r\n\r\n      <!-- 步骤图片 -->\r\n      <view class=\"step-image-container\">\r\n        <image class=\"step-image\" src=\"/static/dongporou_step6.png\" mode=\"aspectFit\" />\r\n      </view>\r\n\r\n      <!-- 步骤描述 -->\r\n      <view class=\"step-description\">\r\n        <text class=\"description-text\">一小时把肉翻过来再煲十五分钟分钟即可</text>\r\n      </view>\r\n\r\n      <!-- 底部按钮 -->\r\n      <view class=\"button-container\">\r\n        <!-- 上一步按钮 -->\r\n        <view class=\"prev-btn\" @click=\"goToStep5\">\r\n          <image class=\"btn-bg\" src=\"/static/begin.jpg\" mode=\"aspectFill\" />\r\n          <text class=\"btn-text\">上一步</text>\r\n        </view>\r\n\r\n        <!-- 下一步按钮 -->\r\n        <view class=\"next-btn\" @click=\"goToComplete\">\r\n          <image class=\"btn-bg\" src=\"/static/begin.jpg\" mode=\"aspectFill\" />\r\n          <text class=\"btn-text\">完成</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      dishId: ''\r\n    }\r\n  },\r\n\r\n  onLoad(options) {\r\n    if (options.id) {\r\n      this.dishId = options.id;\r\n      console.log('第六步页面收到的id:', this.dishId); // 调试日志\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    goBack() {\r\n      // 跳转到东坡肉详情页\r\n      uni.redirectTo({\r\n        url: '/pages/food/detail/dongporou?id=' + this.dishId\r\n      });\r\n    },\r\n\r\n    goToStep5() {\r\n      uni.navigateBack();\r\n    },\r\n\r\n    goToComplete() {\r\n      console.log('跳转到完成页，id:', this.dishId);\r\n\r\n      if (!this.dishId) {\r\n        uni.showToast({ title: '数据错误，请返回重试', icon: 'none' });\r\n        return;\r\n      }\r\n\r\n      // 使用 redirectTo 替代 navigateTo，不会增加页面栈\r\n      uni.redirectTo({\r\n        url: `/pages/food/making/complete?id=${this.dishId}`,\r\n        fail: (err) => {\r\n          console.error('跳转失败:', err);\r\n          uni.showModal({\r\n            title: '跳转失败',\r\n            content: `错误信息: ${JSON.stringify(err)}\\n请检查页面是否存在`,\r\n            showCancel: false\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.making-page {\r\n  background-color: #f6f2e9;\r\n  min-height: 100vh;\r\n  font-family: 'SimSun', 'STSong', serif;\r\n}\r\n\r\n/* 导航栏 */\r\n.nav-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 30rpx;\r\n  background-color: rgba(200, 210, 190, 0.95);\r\n  height: 200rpx;\r\n  padding-top: env(safe-area-inset-top);\r\n}\r\n\r\n.back-btn {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  border-radius: 50%;\r\n  background-color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\r\n  margin-top: 140rpx;\r\n}\r\n\r\n.back-icon {\r\n  font-size: 64rpx;\r\n  color: #333;\r\n  font-weight: 300;\r\n  margin-top: -8rpx;\r\n  margin-left: -6rpx;\r\n}\r\n\r\n.nav-title {\r\n  font-size: 50rpx;\r\n  font-weight: 700;\r\n  color: black;\r\n  letter-spacing: 8rpx;\r\n  font-family: 'LiSu', 'SimLi', serif;\r\n  flex: 1;\r\n  text-align: center;\r\n  margin-left: -40rpx;\r\n  margin-top: 130rpx;\r\n}\r\n\r\n.right-actions {\r\n  width: 80rpx;\r\n}\r\n\r\n/* 主内容区 */\r\n.main-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 40rpx 30rpx;\r\n}\r\n\r\n/* 步骤指示器 */\r\n.step-indicator {\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.step-text {\r\n  font-size: 44rpx;\r\n  color: #5a4a42;\r\n  font-family: 'LiSu', 'SimLi', serif;\r\n  letter-spacing: 8rpx;\r\n}\r\n\r\n/* 步骤图片 */\r\n.step-image-container {\r\n  width: 600rpx;\r\n  height: 500rpx;\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  border: 4rpx solid #c8b69a;\r\n  margin-bottom: 40rpx;\r\n  overflow: hidden;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.step-image {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n/* 步骤描述 */\r\n.step-description {\r\n  width: 600rpx;\r\n  min-height: 120rpx;\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  border: 4rpx solid #c8b69a;\r\n  padding: 30rpx;\r\n  margin-bottom: 60rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.description-text {\r\n  font-size: 36rpx;\r\n  color: #5a4a42;\r\n  text-align: center;\r\n  line-height: 1.5;\r\n  font-family: 'KaiTi', 'SimKai', serif;\r\n}\r\n\r\n/* 底部按钮 */\r\n.button-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 600rpx;\r\n  padding: 0 20rpx;\r\n}\r\n\r\n.prev-btn, .next-btn {\r\n  position: relative;\r\n  width: 260rpx;\r\n  height: 100rpx;\r\n  border-radius: 0;\r\n  overflow: hidden;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.btn-bg {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n.btn-text {\r\n  position: relative;\r\n  font-size: 40rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  font-family: 'LiSu', 'SimLi', serif;\r\n  z-index: 1;\r\n}\r\n</style>","import MiniProgramPage from 'D:/Dream-back-to-song/src/pages/food/making/step6.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AA+CA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,QAAQ;AAAA,IACV;AAAA,EACF;AAAA,EAEA,OAAO,SAAS;AACd,QAAI,QAAQ,IAAI;AACd,WAAK,SAAS,QAAQ;AACtBA,oBAAAA,MAAA,MAAA,OAAA,qCAAY,eAAe,KAAK,MAAM;AAAA,IACxC;AAAA,EACF;AAAA,EAEA,SAAS;AAAA,IACP,SAAS;AAEPA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,qCAAqC,KAAK;AAAA,MACjD,CAAC;AAAA,IACH;AAAA,IAEA,YAAY;AACVA,oBAAAA,MAAI,aAAY;AAAA,IAClB;AAAA,IAEA,eAAe;AACbA,oBAAAA,MAAA,MAAA,OAAA,qCAAY,cAAc,KAAK,MAAM;AAErC,UAAI,CAAC,KAAK,QAAQ;AAChBA,sBAAAA,MAAI,UAAU,EAAE,OAAO,cAAc,MAAM,OAAK,CAAG;AACnD;AAAA,MACF;AAGAA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,kCAAkC,KAAK,MAAM;AAAA,QAClD,MAAM,CAAC,QAAQ;AACbA,wBAAAA,MAAA,MAAA,SAAA,qCAAc,SAAS,GAAG;AAC1BA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,SAAS,SAAS,KAAK,UAAU,GAAG,CAAC;AAAA;AAAA,YACrC,YAAY;AAAA,UACd,CAAC;AAAA,QACH;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EAGF;AACF;;;;;;;;;;;;AChGA,GAAG,WAAW,eAAe;"}
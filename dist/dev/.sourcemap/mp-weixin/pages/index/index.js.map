{"version":3,"file":"index.js","sources":["pages/index/index.vue","../uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <!-- \r\n    登录页整体容器\r\n    说明：已去掉开发用说明文案，只保留实际用户看到的登录界面\r\n  -->\r\n  <!-- 整个页面直接是山水背景，不再模拟手机外框、顶部图标或底部横线 -->\r\n  <view class=\"page-wrap\">\r\n    <!-- 使用 <image> 做整页背景，兼容微信小程序（避免在 wxss 里直接引用本地图片） -->\r\n    <image class=\"page-bg\" src=\"/static/login-bg.png\" mode=\"aspectFill\" />\r\n    <!-- 中心白色登录卡片 -->\r\n    <view class=\"login-card\">\r\n        <!-- 登录标题 -->\r\n        <view class=\"card-header\">\r\n          <text class=\"login-title\">登录</text>\r\n        </view>\r\n\r\n        <!-- 已识别手机号展示 -->\r\n        <view class=\"phone-display\">\r\n          <text class=\"phone-text\">{{ maskedPhone }}</text>\r\n        </view>\r\n\r\n        <!-- 一键登录按钮 -->\r\n        <button\r\n          class=\"primary-btn\"\r\n          :class=\"{ 'primary-btn--disabled': !isAgreed }\"\r\n          :disabled=\"!isAgreed\"\r\n          @click=\"handleOneTapLogin\"\r\n        >\r\n          一键登录\r\n        </button>\r\n\r\n        <!-- 其他手机号登录 -->\r\n        <view class=\"alt-phone\" @click=\"handleOtherPhone\">\r\n          <text class=\"alt-phone-text\">其他手机号</text>\r\n        </view>\r\n\r\n        <!-- 协议勾选 -->\r\n        <view class=\"agreement-row\" @click=\"toggleAgree\">\r\n          <view class=\"agree-checkbox\" :class=\"{ 'agree-checkbox--checked': isAgreed }\">\r\n            <view v-if=\"isAgreed\" class=\"agree-inner-dot\" />\r\n          </view>\r\n          <text class=\"agreement-text\">\r\n            我已阅读并同意\r\n            <text class=\"link-text\" @click.stop=\"handleOpenUser\">《用户协议》</text>\r\n            和\r\n            <text class=\"link-text\" @click.stop=\"handleOpenPrivacy\">《隐私政策》</text>\r\n          </text>\r\n        </view>\r\n\r\n        <!-- 第三方登录 -->\r\n        <view class=\"third-wrap\">\r\n          <!-- 一比一还原微信圆形图标按钮（图标建议放置在 /static/icon-wechat.png） -->\r\n          <view class=\"third-btn wechat-btn\" @click=\"handleWechatLogin\">\r\n            <image class=\"third-img\" src=\"/static/icon-wechat.png\" mode=\"aspectFit\" />\r\n          </view>\r\n          <!-- 一比一还原 QQ 圆形图标按钮（图标建议放置在 /static/icon-qq.png） -->\r\n          <view class=\"third-btn qq-btn\" @click=\"handleQQLogin\">\r\n            <image class=\"third-img\" src=\"/static/icon-qq.png\" mode=\"aspectFit\" />\r\n          </view>\r\n        </view>\r\n      </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n// 说明：本页面为微信小程序登录原型 UI，在 uni-app 中即可预览交互效果\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 当前识别手机号（示例），实际可从后端或微信能力获取\r\n      phone: '15212345746',\r\n      // 是否已勾选协议\r\n      isAgreed: false,\r\n    }\r\n  },\r\n  computed: {\r\n    // 掩码后的手机号显示，保护隐私\r\n    maskedPhone() {\r\n      if (!this.phone) return ''\r\n      // 简单掩码逻辑：保留前三位和后四位\r\n      return this.phone.replace(/^(\\d{3})\\d{4}(\\d{4})$/, '$1****$2')\r\n    },\r\n  },\r\n  methods: {\r\n    // 切换协议勾选\r\n    toggleAgree() {\r\n      this.isAgreed = !this.isAgreed\r\n    },\r\n\r\n    // 一键登录点击\r\n    handleOneTapLogin() {\r\n      if (!this.isAgreed) {\r\n        uni.showToast({\r\n          title: '请先阅读并同意协议',\r\n          icon: 'none',\r\n        })\r\n        return\r\n      }\r\n      // 同意后直接跳转主页面\r\n      uni.reLaunch({\r\n        url: '/pages/main_index/main_index',\r\n      })\r\n    },\r\n\r\n    // 其他手机号登录点击\r\n    handleOtherPhone() {\r\n      // 可以在此跳转到手机号 + 验证码登录页，这里先用 Toast 模拟\r\n      uni.showToast({\r\n        title: '模拟：跳转到手机号验证码登录页',\r\n        icon: 'none',\r\n      })\r\n    },\r\n\r\n    // 打开用户协议\r\n    handleOpenUser() {\r\n      uni.showToast({\r\n        title: '打开《用户协议》',\r\n        icon: 'none',\r\n      })\r\n    },\r\n\r\n    // 打开隐私政策\r\n    handleOpenPrivacy() {\r\n      uni.showToast({\r\n        title: '打开《隐私政策》',\r\n        icon: 'none',\r\n      })\r\n    },\r\n\r\n    // 微信登录点击\r\n    handleWechatLogin() {\r\n      uni.showToast({\r\n        title: '微信登录（示意）',\r\n        icon: 'none',\r\n      })\r\n    },\r\n\r\n    // QQ 登录点击\r\n    handleQQLogin() {\r\n      uni.showToast({\r\n        title: 'QQ 登录（示意）',\r\n        icon: 'none',\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n/* 页面整体布局：全屏山水背景 + 居中白色卡片，不再出现手机轮廓、顶部图标和底部横线 */\r\n.page-wrap {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40rpx 20rpx;\r\n  box-sizing: border-box;\r\n  /* 使用渐变做基础底色，真正的山水纹理由 page-bg 图片承担，避免 wxss 直接引用本地图片 */\r\n  background: linear-gradient(180deg, #dfe6d7 0%, #d0ddc7 60%, #c8d5be 100%);\r\n  min-height: 100vh;\r\n  position: relative;\r\n}\r\n\r\n/* 整页背景图，放在内容下层，兼容微信小程序 */\r\n.page-bg {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 0;\r\n}\r\n\r\n/* 中心白色登录卡片，宽度和圆角与设计稿一致 */\r\n.login-card {\r\n  width: 86%;\r\n  max-width: 680rpx;\r\n  /* 略带一点米黄色的灰白，贴近示例图中的卡片底色 */\r\n  background-color: #ebeae1;\r\n  border-radius: 32rpx;\r\n  /* 加大上下内边距，使卡片整体更“长”一些 */\r\n  padding: 64rpx 56rpx 96rpx;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  /* 让卡片整体略微下移，贴近示例图位置比例，可按需微调 */\r\n  margin-top: 180rpx;\r\n  box-shadow: 0 16rpx 40rpx rgba(0, 0, 0, 0.16);\r\n  z-index: 1;\r\n}\r\n\r\n.card-header {\r\n  align-self: flex-start;\r\n  margin-bottom: 56rpx;\r\n}\r\n\r\n.login-title {\r\n  /* 模拟示例图中偏宋体 / 仿宋的标题感觉 */\r\n  font-size: 44rpx;\r\n  color: #111111;\r\n  font-weight: 600;\r\n  letter-spacing: 4rpx;\r\n  line-height: 1.4;\r\n}\r\n\r\n.phone-display {\r\n  margin-bottom: 80rpx;\r\n}\r\n\r\n.phone-text {\r\n  font-size: 34rpx;\r\n  /* 稍大的字间距，贴近示例中稀疏的数字排布 */\r\n  letter-spacing: 8rpx;\r\n  color: #111111;\r\n  font-weight: 500;\r\n}\r\n\r\n/* 主按钮：一键登录 */\r\n.primary-btn {\r\n  width: 100%;\r\n  height: 96rpx;\r\n  line-height: 96rpx;\r\n  border-radius: 48rpx;\r\n  background-color: #9ea97f;\r\n  color: #ffffff;\r\n  font-size: 30rpx;\r\n  text-align: center;\r\n  margin-bottom: 32rpx;\r\n  border: none;\r\n  letter-spacing: 4rpx;\r\n}\r\n\r\n.primary-btn.button-hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n.primary-btn--disabled {\r\n  background-color: #cfd4c0;\r\n}\r\n\r\n/* 其他手机号 */\r\n.alt-phone {\r\n  margin-bottom: 56rpx;\r\n}\r\n\r\n.alt-phone-text {\r\n  font-size: 26rpx;\r\n  color: #b0b0b0;\r\n}\r\n\r\n/* 协议勾选区域 */\r\n.agreement-row {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin-bottom: 72rpx;\r\n}\r\n\r\n.agree-checkbox {\r\n  width: 28rpx;\r\n  height: 28rpx;\r\n  border-radius: 50%;\r\n  border-width: 2rpx;\r\n  border-style: solid;\r\n  border-color: #c6c6c6;\r\n  margin-right: 16rpx;\r\n  justify-content: center;\r\n  align-items: center;\r\n  display: flex;\r\n}\r\n\r\n.agree-checkbox--checked {\r\n  border-color: #9ea97f;\r\n  background-color: #9ea97f;\r\n}\r\n\r\n.agree-inner-dot {\r\n  width: 14rpx;\r\n  height: 14rpx;\r\n  border-radius: 50%;\r\n  background-color: #ffffff;\r\n}\r\n\r\n.agreement-text {\r\n  flex: 1;\r\n  font-size: 22rpx;\r\n  color: #666666;\r\n  line-height: 1.6;\r\n}\r\n\r\n.link-text {\r\n  color: #9ea97f;\r\n}\r\n\r\n/* 第三方登录图标区域（参考示例图：底部两个等间距圆形按钮） */\r\n.third-wrap {\r\n  margin-top: 40rpx;\r\n  flex-direction: row;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.third-btn {\r\n  /* 略大一点的圆形，接近示例图比例 */\r\n  width: 96rpx;\r\n  height: 96rpx;\r\n  border-radius: 50%;\r\n  margin: 0 60rpx;\r\n  align-items: center;\r\n  justify-content: center;\r\n  display: flex;\r\n  /* 与登录卡片背景色、主按钮同一色值，保证色块完全一致 */\r\n  background-color: #9ea97f;\r\n  /* 去掉明显阴影，让按钮更扁平简洁 */\r\n  box-shadow: none;\r\n}\r\n\r\n/* 微信圆形按钮：与登录卡片背景色保持一致 */\r\n.wechat-btn {\r\n  background-color: #9ea97f;\r\n}\r\n\r\n/* QQ 圆形按钮：与登录卡片背景色保持一致 */\r\n.qq-btn {\r\n  background-color: #9ea97f;\r\n}\r\n\r\n/* 图标图片尺寸：靠近示例图的白色图标占比 */\r\n.third-img {\r\n  /* 再放大一圈，让微信 / QQ 图标在圆形内部更饱满醒目 */\r\n  width: 95rpx;\r\n  height: 95rpx;\r\n}\r\n\r\n/* 小屏设备上同样保持居中，无额外布局变化 */\r\n@media screen and (max-width: 750px) {\r\n  .page-wrap {\r\n    flex-direction: row;\r\n    align-items: center;\r\n  }\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/Dream-back-to-song/src/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AAkEA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA;AAAA,MAEL,OAAO;AAAA;AAAA,MAEP,UAAU;AAAA,IACZ;AAAA,EACF;AAAA,EACA,UAAU;AAAA;AAAA,IAER,cAAc;AACZ,UAAI,CAAC,KAAK;AAAO,eAAO;AAExB,aAAO,KAAK,MAAM,QAAQ,yBAAyB,UAAU;AAAA,IAC/D;AAAA;EAEF,SAAS;AAAA;AAAA,IAEP,cAAc;AACZ,WAAK,WAAW,CAAC,KAAK;AAAA,IACxB;AAAA;AAAA,IAGA,oBAAoB;AAClB,UAAI,CAAC,KAAK,UAAU;AAClBA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD;AAAA,MACF;AAEAA,oBAAAA,MAAI,SAAS;AAAA,QACX,KAAK;AAAA,OACN;AAAA,IACH;AAAA;AAAA,IAGA,mBAAmB;AAEjBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,OACP;AAAA,IACH;AAAA;AAAA,IAGA,iBAAiB;AACfA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,OACP;AAAA,IACH;AAAA;AAAA,IAGA,oBAAoB;AAClBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,OACP;AAAA,IACH;AAAA;AAAA,IAGA,oBAAoB;AAClBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,OACP;AAAA,IACH;AAAA;AAAA,IAGA,gBAAgB;AACdA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,OACP;AAAA,IACH;AAAA;AAEJ;;;;;;;;;;;;;;;;;;;;;;AChJA,GAAG,WAAW,eAAe;"}